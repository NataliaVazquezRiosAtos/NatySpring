<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

	  <head>
	    <meta charset="utf-8"/>	
	    <title>Naty Spring</title>	
	    
	    <!-- Bootstrap core CSS -->
	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
	
	    <!-- Custom styles for this template -->
	    <link href="#" th:href="@{/css/style.css}" rel="stylesheet"/>	    
	 	<link href="#" th:href="@{/css/contacts.css}" rel="stylesheet"/>	 	
	  </head>

	  <body>
		
		<div class="container">
		
			<h1>Hola <span th:text="${nombreUsuarioAutentificado}"></span>!!</h1>
			<br/>
			<div class="panel panel-default">
				<div class="panel-heading"></div>
				<table class="table">
					<thead>
						<tr>
							<th>Nombre</th>
							<th>Apellido</th>
							<th>Tel&eacute;fono</th>
							<th>Ciudad</th>
							<th>Acciones</th>
							
						</tr>
					</thead>
					<tbody>
						<tr th:each="contacto : ${miscontactos}">
							<td th:text="${contacto.nombre}"></td>
							<td th:text="${contacto.apellido}"></td>
							<td th:text="${contacto.telefono}"></td>
							<td th:text="${contacto.ciudad}"></td>
							<td>
								<a href="#" th:href="@{/contactos/formulariocontacto?id=__${contacto.id}__}">
									<button type="button" class="btn btn-default"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
								</a>
								<!-- ?id= -> para pasar el parametro por get  ;como el id es dinamico:  __${contacto.id}__ ; si fuese estatico : ${contacto.id} -->
								<a href="#" th:href="@{/contactos/borrarcontacto?id=__${contacto.id}__}">
									<button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
								</a>						
							</td>
						</tr>					
					</tbody>
				</table>
			</div>
			
			<!-- th:if="${resultado == 1}"  ->  condicion if mediante spring thymeleaf     -->
	        <div th:if="${resultado == 1}" class="alert alert-success" role="alert">Contacto a&ntilde;adido con &eacute;xito.</div>
	        
	        <!-- th:if="${resultado == 0}"  ->  condicion if mediante spring thymeleaf     -->
	        <div th:if="${resultado == 0}" class="alert alert-danger" role="alert">Error al a&ntilde;adir el contacto. Vuelva a intentarlo.</div>        
			
			<!--  '?'  -> para pasar una variable por get     -->
			<a href="#" th:href="@{/contactos/formulariocontacto?id=0}">	
				<button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> A&ntilde;adir contacto</button>
			</a>		
			
			<form th:action="@{/logout}" method="POST">		
				<button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Cerrar sesi&oacute;n</button>
			</form>
			
			<!-- para probar nuestro RestController      -->
			<a href="#" th:href="@{/rest/prueba}" class="btn btn-lg btn-success btn-block">RestController</a>
			<a href="#" th:href="@{/rest/contactomodelo}" class="btn btn-lg btn-success btn-block" >RestController con ContactoModelo</a> 
			
		</div>
	
	
	</body>
</html>